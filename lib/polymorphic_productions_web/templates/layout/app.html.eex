<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
  <meta name="description" content="Portland's Digital Curator">
  <meta name="author" content="Josh Chernoff <jchernoff@polymorphic.productions>">

  <link rel="apple-touch-icon" sizes="180x180" href="<%= Routes.static_path(@conn, "/images/apple-touch-icon.png") %>">
  <link rel="icon" type="image/png" sizes="32x32" href="<%= Routes.static_path(@conn, "/images/favicon-32x32.png") %>">
  <link rel="icon" type="image/png" sizes="16x16" href="<%= Routes.static_path(@conn, "/images/favicon-16x16.png") %>">
  <link rel="mask-icon" href="<%= Routes.static_path(@conn, "/images/safari-pinned-tab.svg") %>" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">

  <title>Polymorphic Productions</title>
  <link rel="stylesheet" href="<%= Routes.static_path(@conn, "/css/app.css") %>"/>
  <link rel="stylesheet" href="<%= Routes.static_path(@conn, "/css/vendors~app.css") %>"/>

  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.2/css/all.css" integrity="sha384-/rXc/GQVaYpyDdyxK+ecHPVYJSN9bmVFBvjA/9eOB+pb3F2w2N6fc5qB9Ew5yIns"
    crossorigin="anonymous">
  <%= render_existing @view_module, "social." <> @view_template, assigns %>

  <%= if Application.get_env(:polymorphic_productions, :render_tracking) do %>
    <%= render "tracking.html"%>
  <% end %>

</head>

<body data-preloader="1">
  <div id="scrolltotop" class="scrolltotop scrolltotop">
    <a class="button-circle button-circle-sm button-circle-dark" href="#"><i class="icon icon-arrow-up"></i></a>
  </div>

  <%= render "header.html", conn: @conn, current_user: @current_user, view_module: @view_module, view_template: @view_template  %>

  <div class="section">
    <div class="container">
      <div class="row justify-content-md-center">
        <div class="col-lg-12">
          <%#= render PolymorphicProductionsWeb.LayoutView, "flash.html", conn: @conn # TODO: Finish flash partial %>
          <%= render @view_module, @view_template, assigns %>
        </div>
      </div>
    </div>
  </div>

  <%= render "footer.html", conn: @conn %>

  <section class="subscription-details js-subscription-details is-invisible">
      <p>Once you've subscribed your user, you'd send their subscription to your
      server to store in a database so that when you want to send a message
      you can lookup the subscription and send a message to it.</p>
      <p>To simplify things for this code lab copy the following details
      into the <a href="https://web-push-codelab.glitch.me/">Push Companion
      Site</a> and it'll send a push message for you, using the application
      server keys on the site - so make sure they match.</p>
      <pre><code class="js-subscription-json"></code></pre>
    </section>

  <script src="<%= Routes.static_path(@conn, "/js/app.js") %>"></script>
  <script src="<%= Routes.static_path(@conn, "/js/vendors~app.js") %>"></script>

</body>
</html>